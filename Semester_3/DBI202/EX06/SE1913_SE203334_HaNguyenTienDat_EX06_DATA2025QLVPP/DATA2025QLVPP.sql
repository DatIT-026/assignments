create database PE_QLVPP;
go
use PE_QLVPP;
go

CREATE TABLE KHACHHANG
(
	MAKH varchar(4) PRIMARY KEY,
	HOTEN nvarchar(50),
	DCHI nvarchar(100),
	SODT varchar(20),
	NGSINH date,
	DOANHSO decimal(15,0),
	NGAYDK date,
);
CREATE TABLE NHANVIEN
(
	MANV  varchar(4) PRIMARY KEY,
	HOTEN nvarchar(50),
	SODT  varchar(20),
	NGVL  date
);
CREATE TABLE SANPHAM
(
	MASP  varchar(4) PRIMARY KEY,
	TENSP nvarchar(40),
	DVT  nvarchar(20),
	NUOCSX nvarchar(40),
	GIA decimal(15,0)
);

CREATE TABLE HOADON
(
	SOHD  int PRIMARY KEY,
	MAKH  varchar(4) FOREIGN KEY REFERENCES KHACHHANG(MAKH),
	MANV  varchar(4) FOREIGN KEY REFERENCES NHANVIEN(MANV),
	TRIGIA decimal(15,0),
	NGHD  date not null
);

CREATE TABLE CTHD
(
	SOHD  int FOREIGN KEY REFERENCES HOADON(SOHD),
	MASP  varchar(4) FOREIGN KEY REFERENCES SANPHAM(MASP),
	SL int,
	PRIMARY KEY (SOHD,MASP)
);

set dateformat Ymd


INSERT INTO NHANVIEN VALUES('NV01',N'Nguyễn Văn A','98765432','2002/04/09')
INSERT INTO NHANVIEN VALUES('NV02',N'Nguyễn Văn B','98765432','2003/07/03')
INSERT INTO NHANVIEN VALUES('NV03',N'Nguyễn Văn C','98765432','2001/09/08')
INSERT INTO NHANVIEN VALUES('NV04',N'Nguyễn Văn D','98765432','2003/05/03')
INSERT INTO NHANVIEN VALUES('NV05',N'Nguyễn Văn E','98765432','2000/04/09')

INSERT INTO KHACHHANG VALUES('KH01',N'Trần Nhật Hoàng',N'Khánh Hải - Ninh Hải - Ninh Thuận','0918132654','2002/12/23',14000000,'2002/12/23')
INSERT INTO KHACHHANG VALUES('KH02',N'Phạm Minh Hoàng',N'21 Lương Ngọc Quyến, Phường Phủ Hà, TP. Phan Rang','0916998751','2001/05/15',33250000,'2001/05/15')
INSERT INTO KHACHHANG VALUES('KH03',N'Hứa Ngọc Huân',N'Ký túc xá đại học Yersin đà lạt','0369871625','2000/10/8',12350000,'2000/10/8')
INSERT INTO KHACHHANG VALUES('KH04',N'Lê Thanh Huấn',N'Phú Hoà, Ninh Quang, TX. Ninh Hoà, Khánh Hoà','0785250172','2001/06/14',12350000,'2001/06/14')
INSERT INTO KHACHHANG VALUES('KH05',N'Vũ Chí Hùng',N'Thôn Đắc Nhơn 3, Nhơn Sơn, Ninh Sơn, Ninh Thuận','0976638287','2001/04/16',9500000,'2001/04/16')
INSERT INTO KHACHHANG VALUES('KH06',N'Ngô Văn Hưng',N'9, Võ Trứ, KP5, Mỹ Bình, TP. Phan Rang','0375985980','2001/5/20',7500000,'2001/5/20')
INSERT INTO KHACHHANG VALUES('KH07',N'Lê Lâm Đức Huy',N'Khánh Hội, Tri Hải, Huyện Ninh Hải, Ninh Thuận','0988268736','2001/3/3',23750000,'2001/3/3')
INSERT INTO KHACHHANG VALUES('KH08',N'Đặng Quang Huy',N'Long Bình, An Hải, Huyện Ninh Phước, Ninh Thuận','0964250955','2001/1/17',10000000,'2001/1/17')
INSERT INTO KHACHHANG VALUES('KH09',N'Đàm Quang Huy',N'138 Thôn Thổ Hoàng 1, Đắk Sắk, H Đăk Mil, Đăk Nông','0372776108','2001/4/24',19000000,'2001/4/24')
INSERT INTO KHACHHANG VALUES('KH10',N'Nguyễn Văn Huy',N'Lương Cang 2, Nhơn Sơn, Huyện Ninh Sơn, Ninh Thuận','0339860499','2001/3/27',47500000,'2001/3/27')
;
INSERT INTO SANPHAM VALUES('BD',N'Băng dính',N'cuộn',N'Anh',20000)
INSERT INTO SANPHAM VALUES('BG',N'Bảng ghim',N'hộp',N'Pháp',25000)
INSERT INTO SANPHAM VALUES('BKDN',N'Băng keo dán nền',N'hộp',N'Mỹ',17000)
INSERT INTO SANPHAM VALUES('BKD',N'Băng keo đục',N'cái',N'VN',30000)
INSERT INTO SANPHAM VALUES('BKG',N'Băng keo giấy',N'cái',N'VN',25000)
INSERT INTO SANPHAM VALUES('BKHM',N'Băng keo hai mặt',N'hộp',N'Pháp',17000)
INSERT INTO SANPHAM VALUES('BKT',N'Băng keo trong',N'cái',N'Mỹ',20000)
INSERT INTO SANPHAM VALUES('BKV',N'Băng keo vải',N'cái',N'VN',25000)
INSERT INTO SANPHAM VALUES('BKVP',N'Băng keo văn phòng',N'cái',N'Pháp',17000)
INSERT INTO SANPHAM VALUES('BKX',N'Băng keo xốp',N'cái',N'Pháp',19000);

INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1001, 'KH01', 'NV01', 25000000, '2022-03-01')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1002, 'KH02', 'NV02', 17000000, '2022-02-02')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1003, 'KH03', 'NV03', 30000000, '2022-02-01')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1004, 'KH04', 'NV04', 25000000, '2022-02-04')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1005, 'KH05', 'NV05', 17000000, '2022-03-05')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1006, 'KH06', 'NV01', 20000000, '2022-03-06')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1007, 'KH07', 'NV02', 25000000, '2022-03-06')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1008, 'KH08', 'NV03', 17000000, '2022-01-08')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1009, 'KH09', 'NV04', 20000000, '2022-02-09')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1010, 'KH10', 'NV05', 25000000, '2022-03-10')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1011, 'KH01', 'NV01', 17000000, '2022-01-11')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1012, 'KH02', 'NV02', 30000000, '2022-03-12')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1013, 'KH03', 'NV03', 25000000, '2022-03-13')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1014, 'KH04', 'NV04', 17000000, '2022-01-14')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1015, 'KH05', 'NV05', 20000000, '2022-02-15')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1016, 'KH06', 'NV01', 25000000, '2022-03-16')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1017, 'KH07', 'NV02', 25000000, '2022-03-17')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1018, 'KH08', 'NV03', 17000000, '2022-01-18')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1019, 'KH09', 'NV04', 30000000, '2022-03-19')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1020, 'KH10', 'NV05', 25000000, '2022-03-10')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1021, 'KH10', 'NV01', 17000000, '2022-01-21')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1022, 'KH01', 'NV02', 20000000, '2022-03-12')
INSERT INTO HOADON(SOHD, MAKH, MANV, TRIGIA, NGHD) VALUES (1023, 'KH02', 'NV03', 40000000, '2022-01-13')
;

INSERT INTO CTHD VALUES('1001','BD',10)
INSERT INTO CTHD VALUES('1001','BKG',43)
INSERT INTO CTHD VALUES('1002','BG',12)
INSERT INTO CTHD VALUES('1002','BKDN',47)
INSERT INTO CTHD VALUES('1003','BKG',14)
INSERT INTO CTHD VALUES('1003','BKDN',51)
INSERT INTO CTHD VALUES('1004','BKD',16)
INSERT INTO CTHD VALUES('1004','BKG',55)
INSERT INTO CTHD VALUES('1005','BKHM',18)
INSERT INTO CTHD VALUES('1005','BKG',59)
INSERT INTO CTHD VALUES('1006','BKHM',20)
INSERT INTO CTHD VALUES('1007','BKHM',22)
INSERT INTO CTHD VALUES('1007','BKT',67)
INSERT INTO CTHD VALUES('1008','BKV',13)
INSERT INTO CTHD VALUES('1008','BKHM',71)
INSERT INTO CTHD VALUES('1009','BKVP',17)
INSERT INTO CTHD VALUES('1010','BKX',21)
INSERT INTO CTHD VALUES('1010','BKT',79)
INSERT INTO CTHD VALUES('1011','BD',25)
INSERT INTO CTHD VALUES('1011','BKV',83)
INSERT INTO CTHD VALUES('1012','BG',29)
INSERT INTO CTHD VALUES('1012','BKVP',87)
INSERT INTO CTHD VALUES('1013','BKDN',33)
INSERT INTO CTHD VALUES('1014','BKD',37)
INSERT INTO CTHD VALUES('1015','BKG',41)
INSERT INTO CTHD VALUES('1016','BKHM',11)
INSERT INTO CTHD VALUES('1017','BKT',15)
INSERT INTO CTHD VALUES('1018','BKV',19)
INSERT INTO CTHD VALUES('1019','BKVP',23)
INSERT INTO CTHD VALUES('1020','BKX',27)
INSERT INTO CTHD VALUES('1021','BKV',31)
INSERT INTO CTHD VALUES('1022','BKVP',35)
INSERT INTO CTHD VALUES('1023','BKX',39);
SELECT * FROM CTHD
SELECT * FROM HOADON
SELECT * FROM KHACHHANG
SELECT * FROM NHANVIEN
SELECT * FROM SANPHAM
